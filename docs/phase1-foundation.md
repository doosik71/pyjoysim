# Phase 1: 기반 시스템 개발 (4주)

## 개요

프로젝트의 핵심 기반 시스템을 구축하는 단계입니다. 조이스틱 입력 처리, 기본 물리 엔진 통합, 프로젝트 구조 설계를 완성합니다.

## 목표

- 조이스틱 입력 시스템 완전 구현
- 기본 물리 엔진 통합 및 추상화 레이어 구축
- 확장 가능한 프로젝트 아키텍처 완성
- 기본 렌더링 시스템 구현

## 주요 작업 항목

### Week 1: 프로젝트 설정 및 기본 구조

- [x] 디렉토리 구조 생성
- [ ] pyproject.toml 설정 완성
- [ ] 의존성 관리 및 가상환경 설정
- [ ] 기본 설정 시스템 구현
- [ ] 로깅 시스템 구현
- [ ] 예외 처리 기본 프레임워크

### Week 2: 조이스틱 입력 시스템

- [ ] JoystickManager 클래스 구현
  - [ ] 조이스틱 감지 및 연결 관리
  - [ ] 핫플러그 지원 (실행 중 연결/해제)
  - [ ] 다중 조이스틱 지원 (최대 4개)
- [ ] InputProcessor 클래스 구현
  - [ ] 아날로그 스틱 데이터 처리
  - [ ] 디지털 버튼 이벤트 처리
  - [ ] 트리거 압력 감지
  - [ ] D-패드 입력 처리
- [ ] ConfigManager 클래스 구현
  - [ ] 조이스틱별 설정 저장/로드
  - [ ] 커스텀 키 매핑 기능
  - [ ] JSON 기반 설정 파일 관리

### Week 3: 물리 엔진 통합

- [ ] PhysicsEngine 추상 클래스 설계
- [ ] Physics2D 클래스 구현 (pygame/pymunk 기반)
  - [ ] 강체 역학 시뮬레이션
  - [ ] 충돌 감지 및 응답
  - [ ] 관절 및 제약 시스템
- [ ] 물리 엔진 팩토리 패턴 구현
- [ ] 물리 객체 기본 클래스들 구현
  - [ ] RigidBody
  - [ ] Collider
  - [ ] Joint

### Week 4: 렌더링 시스템 및 통합

- [ ] RenderEngine 추상 클래스 설계
- [ ] Renderer2D 클래스 구현 (pygame 기반)
  - [ ] 기본 도형 렌더링
  - [ ] 스프라이트 렌더링
  - [ ] 카메라 시스템
  - [ ] UI 오버레이 지원
- [ ] BaseSimulation 클래스 구현
  - [ ] 시뮬레이션 생명주기 관리
  - [ ] 입력-물리-렌더링 파이프라인
  - [ ] 프레임레이트 제어
- [ ] SimulationManager 클래스 구현
  - [ ] 시뮬레이션 선택 및 실행
  - [ ] 리소스 관리

## 기술 스택

- **언어**: Python 3.8+
- **물리 엔진**: pymunk (2D)
- **그래픽**: pygame
- **의존성 관리**: uv
- **테스팅**: pytest
- **문서화**: sphinx

## 성공 기준

- [ ] 조이스틱이 정상적으로 감지되고 입력이 처리됨
- [ ] 기본 물리 시뮬레이션이 60 FPS로 실행됨
- [ ] 간단한 공이 화면에서 튀는 데모 작동
- [ ] 다중 조이스틱 지원 확인
- [ ] 모든 단위 테스트 통과
- [ ] 메모리 누수 없음

## 위험 요소 및 대응책

### 위험 요소

1. **조이스틱 호환성 문제**
   - 다양한 조이스틱 모델별 드라이버 차이
   - 플랫폼별 입력 처리 방식 차이

2. **물리 엔진 성능 이슈**
   - 실시간 시뮬레이션 요구 사항 달성 어려움
   - 복잡한 충돌 처리 시 프레임 드롭

3. **아키텍처 복잡성**
   - 확장 가능한 설계로 인한 초기 개발 복잡도 증가

### 대응책

1. **호환성 테스트 매트릭스 작성**
   - 주요 조이스틱 모델별 테스트 계획
   - 플랫폼별 입력 처리 추상화 강화

2. **성능 벤치마킹**
   - 초기 단계부터 성능 모니터링 도구 도입
   - 프로파일링 기반 최적화

3. **점진적 구현**
   - MVP 우선 개발 후 단계적 확장
   - 코드 리뷰 및 리팩토링 주기 설정

## 다음 단계 준비

- Phase 2를 위한 기본 시뮬레이션 템플릿 준비
- 차량 시뮬레이션을 위한 물리 모델 연구
- UI 프레임워크 선택 및 검토

## 산출물

- [ ] 완전한 조이스틱 입력 시스템
- [ ] 기본 물리 엔진 추상화 레이어
- [ ] 2D 렌더링 시스템
- [ ] 시뮬레이션 기본 프레임워크
- [ ] 단위 테스트 스위트
- [ ] 설치 및 설정 가이드
- [ ] API 문서 (자동 생성)
